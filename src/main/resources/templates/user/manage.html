<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body class="container">

<nav th:replace="fragments :: navbar"></nav>
<div>
    <h3 th:if="${success != null}" th:text="${success}"></h3>
    <header th:replace="fragments :: header"></header>
    <div class="row">
        <div class="col-md-8">
            <form method="post" th:object="${newPasswordFormDTO}">
                <div class="form-group">
                    <label>Current Password
                        <input class="form-control" th:field="*{oldPassword}" type="password" />
                    </label>
                    <p class="error" th:errors="*{oldPassword}"></p>
                </div>
                <div class="form-group">
                    <label>New Password
                        <input class="form-control" th:field="*{newPassword}" type="password" />
                    </label>
                    <p class="error" th:errors="*{newPassword}"></p>
                </div>
                <div class="form-group">
                    <label>Verify New Password
                        <input class="form-control" th:field="*{verifyPassword}" type="password" />
                    </label>
                    <p class="error" th:errors="*{verifyPassword}"></p>
                </div>
                <input type="submit" class="btn btn-primary" value="Update Password" />
            </form>
        </div>
        <div class="col-md-4">
            <div class="user-info-manage">
                <div th:replace="fragments :: userInfo"></div>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-md-5">
            <form method="post" enctype="multipart/form-data" th:action="@{/user/uploadImage}">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <button class="btn btn-primary" type="submit">Set Profile Picture</button>
                    </div>
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" name="imageFile" id="inputGroupFile04">
                        <label id="file-label" class="custom-file-label" for="inputGroupFile04">Choose file</label>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<th:block th:replace="fragments :: scripts"></th:block>
<script>document.querySelector("#inputGroupFile04").onchange = function(){
  document.querySelector("#file-label").textContent = this.files[0].name;
}</script>
</body>
</html>